# LT-09 현장 출동 및 실전 개발 — 수사 보고

## 작업 내용 (Commit 덩어리)

1. **아키텍처 구축**
   - `lib/` 기능별(Features) 구조로 재편.
   - `lib/features/home/` — 홈 대시보드 (70:30 진입점).
   - `lib/features/request_flow/` — 70% 숨고식 견적 요청 동선 (질문지·제출·오프라인 우선).
   - `lib/features/jobs/` — 30% 알바몬식 일자리 동선 뼈대 (위치 기반 구인).
   - `lib/features/profile/` — 내 정보, BCEL OnePay, 전문가 대시보드.
   - `lib/core/` — 테마, Firebase, 로케일, 푸시, Verified 등 공통.
   - `lib/data/` — Firestore 컬렉션·필드 초안 (스키마).
   - Indigo Blue 테마: `lib/theme/app_theme.dart` 를 MaterialApp `theme` / `darkTheme` 로 전역 적용.

2. **데이터베이스 개통**
   - `lib/data/firestore_schema.dart` 작성.
   - **Users**: phone, displayName, **verified**, role, createdAt, updatedAt.
   - **Requests**: userId, category, symptoms, location, wishedTime, extraNote, status, **expertVerified**, createdAt, updatedAt.
   - **Jobs**: employerId, title, description, location, salary, jobType, **employerVerified**, status, createdAt, updatedAt.
   - 오프라인 우선 저장 시 `kColRequests`, `RequestFields` 사용하도록 연동.

3. **다국어 금고**
   - `assets/i18n/ko.json`, `en.json`, `lo.json` 구조 유지.
   - `assets/i18n/README.md` 추가 (파일 설명·규칙·Handover 안내).

4. **개발 원칙 반영**
   - **신뢰 최우선**: Users.verified, Requests.expertVerified, Jobs.employerVerified 필드 정의.
   - **70:30 구현**: request_flow(70%)와 jobs(30%)를 별도 feature로 분리, 홈에서 동선 분기(전문 서비스 → 요청서, Jobs 탭 → 일자리).
   - **인계 준비**: 주요 파일 상단에 한글/영어 블록 주석 (역할, Handover, 70:30 등).

---

## 적용된 아이디어 번호 (LT-08 연계)

| LT-08 미션 | 적용 내용 |
|------------|-----------|
| 01 | Indigo Blue 전역 테마 (고대비 라이트·다크) |
| 02 | Firebase 연동, 오프라인 우선, Firestore 스키마와 연동 |
| 03 | Verified 배지, BCEL OnePay 시뮬, 전문가 대시보드 (profile feature) |
| 04 | i18n 금고(ko/en/lo), 언어 스위칭 |
| 05 | 푸시 서비스 구조 (core) |

---

## 다음 예정 작업

- 기존 `lib/screens/` 폴더 제거 (features 로 완전 이전 후).
- 경량화 코딩(LT-08 미션08): 이미지 용량 자동 축소 기능 탑재.
- Jobs 화면: 지도 전환·채용 카드·지원하기·필터 UI 및 Firestore `jobs` 연동.
- Firestore 보안 규칙 초안 및 Users 문서 생성 플로우(전화번호 인증 후) 연동.

---

*막내 보고 끝.*
